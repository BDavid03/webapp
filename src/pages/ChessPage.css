/* Simple responsive chess board and controls */
.chess { display: grid; gap: 16px; padding: 16px; }

.chess__topbar {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 12px;
}

.chess__label {
  font-size: 0.9rem;
}

.chess__main { display: grid; grid-template-columns: minmax(300px, 520px) 1fr; gap: 16px; align-items: start; }

.chess__board { width: 100%; max-width: 520px; aspect-ratio: 1 / 1; display: grid; grid-template-columns: repeat(8, 1fr); border: 2px solid #333; border-radius: 10px; overflow: hidden; background: #222; }

.chess__square { position: relative; display: flex; align-items: center; justify-content: center; font-size: clamp(24px, 5vw, 40px); user-select: none; cursor: pointer; transition: background-color 120ms ease-in-out, transform 120ms; }

.chess__square--light { background-color: #f0d9b5; }
.chess__square--dark { background-color: #b58863; }

.chess__square--selected { outline: 3px solid #2e7d32; outline-offset: -3px; }
.chess__square--hint { box-shadow: inset 0 0 0 5px rgba(46,125,50,0.55); }
.chess__square--can-capture { box-shadow: inset 0 0 0 5px rgba(198,40,40,0.6); }
.chess__square--moved-to { animation: square-pop 160ms ease-out; }

/* Last move and check indicators */
.chess__square--last { box-shadow: inset 0 0 0 5px rgba(33,150,243,0.45); }
.chess__square--check { box-shadow: inset 0 0 0 6px rgba(198,40,40,0.7); }

@keyframes square-pop {
  from { transform: scale(0.96); }
  to   { transform: scale(1); }
}

.chess__sidepanel { display: grid; grid-template-columns: 1fr; gap: 12px; max-width: 520px; }
.chess__widget { border: 1px solid #e2e2e2; border-radius: 10px; background: #fff; padding: 12px; box-shadow: 0 1px 1px rgba(0,0,0,0.04); }
.chess__widget-title { margin: 0 0 8px; font-size: 0.95rem; font-weight: 700; color: #333; }
.chess__controls-grid { display: grid; grid-template-columns: 1fr; gap: 10px; }

.chess__status {
  font-weight: 600;
}

.chess__history {
  max-width: 520px;
  max-height: 180px;
  overflow: auto;
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: 8px;
  background: #fff;
}

.chess__actions {
  display: flex;
  gap: 8px;
}

.chess__btn {
  padding: 8px 12px;
  border: 1px solid #ccc;
  border-radius: 6px;
  background: #fafafa;
  cursor: pointer;
}
.chess__btn:hover { background: #f0f0f0; }

/* Piece styling */
.chess__piece { line-height: 1; transition: transform 140ms ease-out, opacity 140ms ease-out; }
.chess__piece--white { color: #f5f5f5; text-shadow: 0 1px 0 rgba(0,0,0,0.35); }
.chess__piece--black { color: #101010; text-shadow: 0 1px 0 rgba(255,255,255,0.35); }
.chess__piece--moved { animation: piece-pop 160ms ease-out; transform-origin: center; }
@keyframes piece-pop { from { transform: scale(0.8); opacity: 0.5; } to { transform: scale(1); opacity: 1; } }

/* Coordinate labels inside squares (bottom-left file, top-left rank on edges) */
.chess__coord-file, .chess__coord-rank { position: absolute; font-size: 11px; color: rgba(0,0,0,0.7); text-shadow: 0 1px 0 rgba(255,255,255,0.4); }
.chess__coord-file { left: 4px; bottom: 2px; }
.chess__coord-rank { left: 4px; top: 2px; }

/* Dark squares need lighter label */
.chess__square--dark .chess__coord-file, .chess__square--dark .chess__coord-rank { color: rgba(255,255,255,0.85); text-shadow: 0 1px 0 rgba(0,0,0,0.6); }

/* Compact on very small screens */
@media (max-width: 420px) {
  .chess__square { font-size: 28px; }
}

/* Stack on small screens */
@media (max-width: 860px) {
  .chess__main { grid-template-columns: 1fr; }
}
